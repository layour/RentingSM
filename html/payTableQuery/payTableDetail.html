<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../css/iuapmobile.um.css">
    <link rel="stylesheet" href="../../css/fonts/iconfont.css">
    <link rel="stylesheet" href="../../css/mint.css">
    <link rel="stylesheet" href="./index.min.css">
</head>

<body>
    <div class="um-win" id="payTableDetail">
        <div class="um-content payTableDetail">
            <ul>
                <li class="title">
                    <span></span>基本信息</li>
                <li>客户姓名
                    <span class="fr">{{res.prjPrdPaySchM ? res.prjPrdPaySchM.cstId.cstNm : ""}}</span>
                </li>
                <li>业务申请编号
                    <span class="fr">{{res.prjPrdPaySchM ? res.prjPrdPaySchM.prjId.prjNm : ""}}</span>
                </li>
                <li>支付表编号
                    <span class="fr">{{res.prjPrdPaySchM ? res.prjPrdPaySchM.paySchNo : ""}}</span>
                </li>
            </ul>
            <ul>
                <li class="title">
                    <span></span>车辆信息</li>
                <li>供应商名称
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.splBscInfo.splNm : ""}}</span>
                </li>
                <li>品牌名称
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.prjEquBscInfo.braNm : ""}}</span>
                </li>
                <li>设备名称
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.prjEquBscInfo.equNm : ""}}</span>
                </li>
                <li>设备型号
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.prjEquBscInfo.equMdl : ""}}</span>
                </li>
                <li>设备数量
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.prjEquBscInfo.equQty : ""}}</span>
                </li>
                <li>设备金额
                    <span class="fr">{{res.prjEqiDtlDTO ? res.prjEqiDtlDTO.prjEquBscInfo.equAmt : ""}}</span>
                </li>
                <li>是否为二手车
                    <span class="fr">{{res.prjEqiDtlDTO ? (res.prjEqiDtlDTO.prjEquBscInfo.isNew == 1 ? "是" : "否") : ""}}</span>
                </li>
            </ul>
            <ul>
                <li class="title">
                    <span></span>报价方案</li>
                <li>租赁物件总价值（元）
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.totLsItmAmt : ""}}</span>
                </li>
                <li>实际融资租赁价值（元）
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.actLsAmt : ""}}</span>
                </li>
                <li>首期租金比例（%）
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.hirePct : ""}}</span>
                </li>
                <li>首期租金
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.hireAmt : ""}}</span>
                </li>
                <li>保证金比例（%）
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.bailPct : ""}}</span>
                </li>
                <li>保证金
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.bailAmt : ""}}</span>
                </li>
                <li>租赁年利率（%）
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.annIntRatePct : ""}}</span>
                </li>
                <li>租赁期数
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.lsPd : ""}}</span>
                </li>
                <li>支付方式
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.payWay : ""}}</span>
                </li>
            </ul>
            <ul>
                <li class="title">
                    <span></span>支付清单</li>
                <li class="bgLi">其他费用</li>
                <li v-for="(item, index) in res.prjQuatPrps.prjQuatPrpsFeeList" :key="index">
                    {{item.feeTypCd}}
                    <span class="fr">{{item.feeAmt}}</span>
                </li>
                <li>贴息金额
                    <span class="fr">{{res.prjQuatPrps ? res.prjQuatPrps.txJe : ""}}</span>
                </li>
                <li>合计
                    <span class="fr">{{res.totalOtherFee ? res.totalOtherFee : ""}}</span>
                </li>

                <li class="bgLi">合计</li>
                <li>租金
                    <span class="fr">{{res.totalMonthPrice ? res.totalMonthPrice : ""}}</span>
                </li>
                <li>本金
                    <span class="fr">{{res.totalOwnPrice ? res.totalOwnPrice : ""}}</span>
                </li>
                <li>利息
                    <span class="fr">{{res.totalRenPrice ? res.totalRenPrice : ""}}</span>
                </li>

                <template v-for="(item, index) in res.paylineList">
                    <li class="bgLi">期次{{item.periodNum}}</li>
                    <li>租金: {{item.monthPrice}}
                        <span class="fr">本金: {{item.ownPrice}}</span>
                    </li>
                    <li>利息: {{item.renPrice}}
                        <span class="fr">剩余本金: {{item.lastPrice}}</span>
                    </li>
                </template>
            </ul>
        </div>
    </div>
    <script src="../../js/summer.js"></script>
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/font.js"></script>
    <script src="../../js/vue.js"></script>
    <script src="../../js/mint.js"></script>
    <script src="../../js/common.js"></script>
    <script src="../../js/Frameworks/iuapmobile.frameworks.ui.js"></script>
    <script>
        summerready = function () {
            payTableDetailVue.PAY_ID = summer.pageParam.PAY_ID
            console.log(payTableDetailVue.PAY_ID);
            payTableDetailVue.getData()
        }
        var payTableDetailVue = new Vue({
            el: '#payTableDetail',
            data: function () {
                return {
                    PAY_ID: '',
                    res: {
                        paylineList: [],
                        prjPrdPaySchM: {},
                        prjQuatPrps: {},
                        totalMonthPrice: "",
                        totalOtherFee: "",
                        totalOwnPrice: "",
                        totalRenPrice: ""
                    }
                }
            },
            methods: {
                getData: function () {
                    var _this = this;
                    summer.showProgress();
                    var payId = _this.PAY_ID;
                    ajaxRequest({
                        type: "POST",
                        url: 'appservice/project/prjprdpayschm/paySchView.do',
                        param: {
                            id: payId
                        }
                    }, function (res) {
                        summer.hideProgress();
                        _this.res = res.data.datas;
                        // 其他费用feeTypCd改写
                        _this.res.prjQuatPrps.prjQuatPrpsFeeList.forEach(function (e) {
                            if (e.feeTypCd == "10") {
                                e.feeTypCd = "GPS费";
                            } else if (e.feeTypCd == "32") {
                                e.feeTypCd = "保险费";
                            } else if (e.feeTypCd == "51") {
                                e.feeTypCd = "精品装潢费";
                            } else if (e.feeTypCd == "30") {
                                e.feeTypCd = "购置税";
                            } else if (e.feeTypCd == "36") {
                                e.feeTypCd = "其他加融项";
                            } else if (e.feeTypCd == "35") {
                                e.feeTypCd = "平台费";
                            } else if (e.feeTypCd == "04") {
                                e.feeTypCd = "咨询服务费";
                            }
                        });
                        console.log(_this.res.prjQuatPrps.prjQuatPrpsFeeList);
                    }, function (err) {
                        summer.hideProgress();
                        console.log(err);
                    })
                }
            }
        });
    </script>
</body>

</html>